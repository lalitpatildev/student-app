<!DOCTYPE html>
<html>
<head>
    <title>Student Entry Form</title>
</head>
<body>

<h2>Student Entry</h2>

<form id="studentForm">
    Name: <input type="text" id="name"><br><br>
    Email: <input type="text" id="email"><br><br>
    Age: <input type="number" id="age"><br><br>
    <button type="button" onclick="saveStudent()">Save</button>
</form>

<script>
    function saveStudent() {
        const student = {
            name: document.getElementById("name").value,
            email: document.getElementById("email").value,
            age: document.getElementById("age").value
        };

        fetch("http://localhost:8080/students", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(student)
        })
            .then(response => {
                if (!response.ok) {
                    response.text().then(text => {
                        throw new Error(text)
                    });
                }
                return response.json()
            })
            .then(data => {
                alert("Student " + data.name + " Saved Successfully")
            })

            .catch(error => {
                alert("Error" + error.message)
            });
    }
</script>

</body>
</html>
